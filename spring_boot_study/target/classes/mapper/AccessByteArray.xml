<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="CJ.CJ.mapper.client.HeartRateHistoryMapper">
    <select id="getByteArray" parameterType="hashmap" resultType="hashmap">
        SELECT
        heartRateByteStream
        FROM HeartRateHistory
        WHERE
        HeartRateHistory.userId = #{userId}
        ORDER BY workDate DESC
        LIMIT 1;
    </select>

    <update id="insertReportHistoryByUserId" parameterType="hashmap">
        INSERT INTO ReportHistory
        (userId, threshold, reportHeartRate, reportDateTime, action, locationXPos, locationYPos)
        VALUES
        (#{userId}, #{threshold}, #{reportHeartRate}, #{reportDateTime}, #{action}, #{locationXPos}, #{locationYPos})
    </update>
</mapper>